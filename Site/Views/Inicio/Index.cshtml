@model InicioView
@{
    ViewData["Title"] = "Início";
    var Mes = Model.Agora.ToString("MMMM", new System.Globalization.CultureInfo("pt-BR"));
    var hora = TimeZoneInfo.ConvertTimeFromUtc(DateTime.UtcNow, TimeZoneInfo.FindSystemTimeZoneById("E. South America Standard Time")).Hour;

    var saudacao = hora < 12 ? "Bom dia" : hora < 18 ? "Boa tarde" : "Boa noite";
    var iClass = hora < 12 ? "bi bi-brightness-high-fill" : hora < 18 ? "bi bi-brightness-alt-high-fill" : "bi bi-cloud-moon-fill";
    var iColor = hora < 18 ? "var(--cl-warn-3-laranja)" : "purple";
    
    
}

<saudacao>
    <i class="@iClass" style="color: @iColor"></i>
    <br />
    <a>@saudacao</a>   
</saudacao>

<br />

@if (Model.Alertas.Count > 0)
{
    <div>

        @foreach (var alerta in Model.Alertas)
        {
            <div class="cartao alerta">
                <div class="validade">
                    <a>@alerta.DataFim?.ToString("'Alerta ativo até ' dd/MM/yyyy")</a>
                </div>


                <h3>@Html.Raw(@alerta.Titulo)</h3>

                <hr>
                <div class="alerta-descricao">
                    @Html.Raw(@alerta.Descricao)
                </div>


            </div>
        }
    </div>
}

@if (Model.Aniversariantes.Count > 0)
{
    <div class="titulo"><a>Aniversariante(s) de @Mes</a></div>
    <hr>
    <br />
    <div class="grid">
        @foreach (var colaborador in Model.Aniversariantes)
        {
            <div class="cartao aniversariante">
                <div class="foto">
                    <div class="data">

                        @if (colaborador.DataNascimento.Value.Day == Model.Agora.Day)
                        {
                            <i class="bi bi-balloon-fill" style="color: red; font-size: 15px;"></i>
                            <a>Hoje</a>
                            <i class="bi bi-balloon-fill" style="color: red; font-size: 15px;"></i>

                        }
                        else
                        {
                            <a>@colaborador.DataNascimento?.ToString("dd/MM")</a>
                        }

                    </div>

                    <br />
                    <img src="/img/aniversariantes/@(colaborador.UrlImagem ?? "user.png")" />
                </div>
                <div class="nome">
                    @Html.Raw(@colaborador.Nome)
                </div>
            </div>
        }
    </div>
}